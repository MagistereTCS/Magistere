define(["jquery","jqueryui"],function(a,b,c){return{init:function(){function b(a,b){var c=!1,d=a.indexOf(b);return d>=0&&(c=!0),c}function c(c){var d=a("#selectedicons").val().split(";");a("#searchcontainer #load").hide(),a("#searchcontainer div.icon").hide();for(var e=0;e<f&&e<c.length;e++){var g=c[e].type+" fa-"+c[e].name;b(d,g)&&(a('#searchcontainer div.icon[data-name="'+c[e].name+'"][data-type="'+c[e].type+'"]').append('<i class="fa fa-check-circle fa-2x actionselected"></i>'),a('#searchcontainer div.icon[data-name="'+c[e].name+'"][data-type="'+c[e].type+'"]').addClass("selected")),a('#searchcontainer div.icon[data-name="'+c[e].name+'"][data-type="'+c[e].type+'"]').show()}}function d(){var b=a("#fontawesomepickercustom_setting #selected");if(b.empty(),""!=a("#selectedicons").val())for(var c=a("#selectedicons").val().split(";"),d=0;d<c.length;d++)b.append("<div class ='icon' data-name ='"+c[d]+"'><i class='"+c[d]+" fa-4x'></i><i class='fa fa-times-circle fa-2x actionremove'></i><span>"+c[d].split(" ")[1].substr(3)+"</span></div>")}var e=[],f=50;a(document).ready(function(){a("#searchcontainer div.icon").each(function(b){e.push({unicode:a(this).data("unicode").replace("&amp;","&"),name:a(this).data("name"),type:a(this).data("type")})}),c(e),d()}),a(document).on("click","#searchcontainer button#showmore",function(b){b.preventDefault(),f+=50,f>e.length&&(f=e.length,a(this).hide()),c(e),a(this).blur()}),a(document).on("click","#searchcontainer div.icon",function(c){var e=a("#selectedicons").val().split(";");if(!b(e,a(this).data("type")+" fa-"+a(this).data("name"))&&e.length<20){var f=null;f=""==a("#selectedicons").val()?a(this).data("type")+" fa-"+a(this).data("name"):a("#selectedicons").val()+";"+a(this).data("type")+" fa-"+a(this).data("name"),a("#selectedicons").val(f),d(),a(this).append('<i class="fa fa-check-circle fa-2x actionselected"></i>'),a(this).closest(".icon").addClass("selected")}}),a(document).on("click","#fontawesomepickercustom_setting #selected div.icon .actionremove",function(b){for(var c=a(this).closest("div"),e=a("#selectedicons").val().split(";"),f=0;f<e.length;f++)e[f]===c.data("name")&&e.splice(f,1);e.length>0?a("#selectedicons").val(e.join(";")):a("#selectedicons").val(""),a("#choices ."+c.data("name").replace(" ",".")).siblings("i").remove(),a("#choices ."+c.data("name").replace(" ",".")).closest(".icon").removeClass("selected"),d()}),a(document).on("input","#searchcontainer #searchbar input",function(d){if(""==a(this).val())c(e);else{for(var f=[],g=0;g<e.length;g++)b(e[g].name,a(this).val().toLowerCase())&&f.push(e[g]),b(e[g].unicode,a(this).val())&&f.push(e[g]);uniqueSearch=f.filter(function(a,b){return f.indexOf(a)==b}),c(uniqueSearch)}})}}});
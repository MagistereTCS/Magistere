define(["jquery","jqueryui"],function(){!function(a,b,c,d){function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?j(c,!0).forEach(function(b){i(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):j(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function l(a){return m(a)||n(a)||o()}function m(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function n(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(a){return"number"==typeof a&&!Xa(a)}function q(a){return"undefined"==typeof a}function r(a){return"object"===e(a)&&null!==a}function s(a){if(!r(a))return!1;try{var b=a.constructor,c=b.prototype;return b&&c&&Za.call(c,"isPrototypeOf")}catch(d){return!1}}function t(a){return"function"==typeof a}function u(a){return Array.from?Array.from(a):$a.call(a)}function v(a,b){return a&&t(b)&&(Array.isArray(a)||p(a.length)?u(a).forEach(function(c,d){b.call(a,c,d,a)}):r(a)&&Object.keys(a).forEach(function(c){b.call(a,a[c],c,a)})),a}function w(a){var b=arguments.length>1&&arguments[1]!==d?arguments[1]:1e11;return ab.test(a)?Math.round(a*b)/b:a}function x(a,b){var c=a.style;v(b,function(a,b){bb.test(b)&&p(a)&&(a="".concat(a,"px")),c[b]=a})}function y(a,b){return a.classList?a.classList.contains(b):a.className.indexOf(b)>-1}function z(a,b){if(b){if(p(a.length))return void v(a,function(a){z(a,b)});if(a.classList)return void a.classList.add(b);var c=a.className.trim();c?c.indexOf(b)<0&&(a.className="".concat(c," ").concat(b)):a.className=b}}function A(a,b){if(b)return p(a.length)?void v(a,function(a){A(a,b)}):a.classList?void a.classList.remove(b):void(a.className.indexOf(b)>=0&&(a.className=a.className.replace(b,"")))}function B(a,b,c){if(b)return p(a.length)?void v(a,function(a){B(a,b,c)}):void(c?z(a,b):A(a,b))}function C(a){return a.replace(cb,"$1-$2").toLowerCase()}function D(a,b){return r(a[b])?a[b]:a.dataset?a.dataset[b]:a.getAttribute("data-".concat(C(b)))}function E(a,b,c){r(c)?a[b]=c:a.dataset?a.dataset[b]=c:a.setAttribute("data-".concat(C(b)),c)}function F(a,b){if(r(a[b]))try{delete a[b]}catch(c){a[b]=d}else if(a.dataset)try{delete a.dataset[b]}catch(c){a.dataset[b]=d}else a.removeAttribute("data-".concat(C(b)))}function G(a,b,c){var e=arguments.length>3&&arguments[3]!==d?arguments[3]:{},f=c;b.trim().split(db).forEach(function(b){if(!eb){var d=a.listeners;d&&d[b]&&d[b][c]&&(f=d[b][c],delete d[b][c],0===Object.keys(d[b]).length&&delete d[b],0===Object.keys(d).length&&delete a.listeners)}a.removeEventListener(b,f,e)})}function H(a,b,c){var e=arguments.length>3&&arguments[3]!==d?arguments[3]:{},f=c;b.trim().split(db).forEach(function(b){if(e.once&&!eb){var d=a.listeners,g=void 0===d?{}:d;f=function(){delete g[b][c],a.removeEventListener(b,f,e);for(var d=arguments.length,h=new Array(d),i=0;i<d;i++)h[i]=arguments[i];c.apply(a,h)},g[b]||(g[b]={}),g[b][c]&&a.removeEventListener(b,g[b][c],e),g[b][c]=f,a.listeners=g}a.addEventListener(b,f,e)})}function I(a,b,d){var e;return t(Event)&&t(CustomEvent)?e=new CustomEvent(b,{detail:d,bubbles:!0,cancelable:!0}):(e=c.createEvent("CustomEvent"),e.initCustomEvent(b,!0,!0,d)),a.dispatchEvent(e)}function J(a){var d=a.getBoundingClientRect();return{left:d.left+(b.pageXOffset-c.documentElement.clientLeft),top:d.top+(b.pageYOffset-c.documentElement.clientTop)}}function K(a){var b=a.match(gb);return null!==b&&(b[1]!==fb.protocol||b[2]!==fb.hostname||b[3]!==fb.port)}function L(a){var b="timestamp=".concat((new Date).getTime());return a+(a.indexOf("?")===-1?"?":"&")+b}function M(a){var b=a.rotate,c=a.scaleX,d=a.scaleY,e=a.translateX,f=a.translateY,g=[];p(e)&&0!==e&&g.push("translateX(".concat(e,"px)")),p(f)&&0!==f&&g.push("translateY(".concat(f,"px)")),p(b)&&0!==b&&g.push("rotate(".concat(b,"deg)")),p(c)&&1!==c&&g.push("scaleX(".concat(c,")")),p(d)&&1!==d&&g.push("scaleY(".concat(d,")"));var h=g.length?g.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function N(a){var b=k({},a),c=[];return v(a,function(a,d){delete b[d],v(b,function(b){var d=Math.abs(a.startX-b.startX),e=Math.abs(a.startY-b.startY),f=Math.abs(a.endX-b.endX),g=Math.abs(a.endY-b.endY),h=Math.sqrt(d*d+e*e),i=Math.sqrt(f*f+g*g),j=(i-h)/h;c.push(j)})}),c.sort(function(a,b){return Math.abs(a)<Math.abs(b)}),c[0]}function O(a,b){var c=a.pageX,d=a.pageY,e={endX:c,endY:d};return b?e:k({startX:c,startY:d},e)}function P(a){var b=0,c=0,d=0;return v(a,function(a){var e=a.startX,f=a.startY;b+=e,c+=f,d+=1}),b/=d,c/=d,{pageX:b,pageY:c}}function Q(a){var b=a.aspectRatio,c=a.height,e=a.width,f=arguments.length>1&&arguments[1]!==d?arguments[1]:"contain",g=Ya(e),h=Ya(c);if(g&&h){var i=c*b;"contain"===f&&i>e||"cover"===f&&i<e?c=e/b:e=c*b}else g?c=e/b:h&&(e=c*b);return{width:e,height:c}}function R(a){var b=a.width,c=a.height,d=a.degree;if(d=Math.abs(d)%180,90===d)return{width:c,height:b};var e=d%90*Math.PI/180,f=Math.sin(e),g=Math.cos(e),h=b*g+c*f,i=b*f+c*g;return d>90?{width:i,height:h}:{width:h,height:i}}function S(a,b,d,e){var f=b.aspectRatio,g=b.naturalWidth,h=b.naturalHeight,i=b.rotate,j=void 0===i?0:i,k=b.scaleX,m=void 0===k?1:k,n=b.scaleY,o=void 0===n?1:n,p=d.aspectRatio,q=d.naturalWidth,r=d.naturalHeight,s=e.fillColor,t=void 0===s?"transparent":s,u=e.imageSmoothingEnabled,v=void 0===u||u,x=e.imageSmoothingQuality,y=void 0===x?"low":x,z=e.maxWidth,A=void 0===z?1/0:z,B=e.maxHeight,C=void 0===B?1/0:B,D=e.minWidth,E=void 0===D?0:D,F=e.minHeight,G=void 0===F?0:F,H=c.createElement("canvas"),I=H.getContext("2d"),J=Q({aspectRatio:p,width:A,height:C}),K=Q({aspectRatio:p,width:E,height:G},"cover"),L=Math.min(J.width,Math.max(K.width,q)),M=Math.min(J.height,Math.max(K.height,r)),N=Q({aspectRatio:f,width:A,height:C}),O=Q({aspectRatio:f,width:E,height:G},"cover"),P=Math.min(N.width,Math.max(O.width,g)),R=Math.min(N.height,Math.max(O.height,h)),S=[-P/2,-R/2,P,R];return H.width=w(L),H.height=w(M),I.fillStyle=t,I.fillRect(0,0,L,M),I.save(),I.translate(L/2,M/2),I.rotate(j*Math.PI/180),I.scale(m,o),I.imageSmoothingEnabled=v,I.imageSmoothingQuality=y,I.drawImage.apply(I,[a].concat(l(S.map(function(a){return Math.floor(w(a))})))),I.restore(),H}function T(a,b,c){var d="";c+=b;for(var e=b;e<c;e+=1)d+=hb(a.getUint8(e));return d}function U(a){var b=a.replace(ib,""),c=atob(b),d=new ArrayBuffer(c.length),e=new Uint8Array(d);return v(e,function(a,b){e[b]=c.charCodeAt(b)}),d}function V(a,b){for(var c=[],d=8192,e=new Uint8Array(a);e.length>0;)c.push(hb.apply(null,u(e.subarray(0,d)))),e=e.subarray(d);return"data:".concat(b,";base64,").concat(btoa(c.join("")))}function W(a){var b,c=new DataView(a);try{var d,e,f;if(255===c.getUint8(0)&&216===c.getUint8(1))for(var g=c.byteLength,h=2;h+1<g;){if(255===c.getUint8(h)&&225===c.getUint8(h+1)){e=h;break}h+=1}if(e){var i=e+4,j=e+10;if("Exif"===T(c,i,4)){var k=c.getUint16(j);if(d=18761===k,(d||19789===k)&&42===c.getUint16(j+2,d)){var l=c.getUint32(j+4,d);l>=8&&(f=j+l)}}}if(f){var m,n,o=c.getUint16(f,d);for(n=0;n<o;n+=1)if(m=f+12*n+2,274===c.getUint16(m,d)){m+=8,b=c.getUint16(m,d),c.setUint16(m,1,d);break}}}catch(p){b=1}return b}function X(a){var b=0,c=1,d=1;switch(a){case 2:c=-1;break;case 3:b=-180;break;case 4:d=-1;break;case 5:b=90,d=-1;break;case 6:b=90;break;case 7:b=90,c=-1;break;case 8:b=-90}return{rotate:b,scaleX:c,scaleY:d}}a=a&&a.hasOwnProperty("default")?a["default"]:a;var Y="undefined"!=typeof b&&"undefined"!=typeof b.document,Z=Y?b:{},$=!!Y&&"ontouchstart"in Z.document.documentElement,_=!!Y&&"PointerEvent"in Z,aa="cropper",ba="all",ca="crop",da="move",ea="zoom",fa="e",ga="w",ha="s",ia="n",ja="ne",ka="nw",la="se",ma="sw",na="".concat(aa,"-crop"),oa="".concat(aa,"-disabled"),pa="".concat(aa,"-hidden"),qa="".concat(aa,"-hide"),ra="".concat(aa,"-invisible"),sa="".concat(aa,"-modal"),ta="".concat(aa,"-move"),ua="".concat(aa,"Action"),va="".concat(aa,"Preview"),wa="crop",xa="move",ya="none",za="crop",Aa="cropend",Ba="cropmove",Ca="cropstart",Da="dblclick",Ea=$?"touchstart":"mousedown",Fa=$?"touchmove":"mousemove",Ga=$?"touchend touchcancel":"mouseup",Ha=_?"pointerdown":Ea,Ia=_?"pointermove":Fa,Ja=_?"pointerup pointercancel":Ga,Ka="ready",La="resize",Ma="wheel",Na="zoom",Oa="image/jpeg",Pa=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Qa=/^data:/,Ra=/^data:image\/jpeg;base64,/,Sa=/^img|canvas$/i,Ta=200,Ua=100,Va={viewMode:0,dragMode:wa,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Wa='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Xa=Number.isNaN||Z.isNaN,Ya=function(a){return a>0&&a<1/0},Za=Object.prototype.hasOwnProperty,$a=Array.prototype.slice,_a=Object.assign||function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return r(a)&&c.length>0&&c.forEach(function(b){r(b)&&Object.keys(b).forEach(function(c){a[c]=b[c]})}),a},ab=/\.\d*(?:0|9){12}\d*$/,bb=/^width|height|left|top|marginLeft|marginTop$/,cb=/([a-z\d])([A-Z])/g,db=/\s\s*/,eb=function(){var a=!1;if(Y){var b=!1,c=function(){},d=Object.defineProperty({},"once",{get:function(){return a=!0,b},set:function(a){b=a}});Z.addEventListener("test",c,d),Z.removeEventListener("test",c,d)}return a}(),fb=Z.location,gb=/^(\w+:)\/\/([^:\/?#]*):?(\d*)/i,hb=String.fromCharCode,ib=/^data:.*,/,jb={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var a=this.element,b=this.options,c=this.container,d=this.cropper;z(d,pa),A(a,pa);var e={width:Math.max(c.offsetWidth,Number(b.minContainerWidth)||200),height:Math.max(c.offsetHeight,Number(b.minContainerHeight)||100)};this.containerData=e,x(d,{width:e.width,height:e.height}),z(a,pa),A(d,pa)},initCanvas:function(){var a=this.containerData,b=this.imageData,c=this.options.viewMode,d=Math.abs(b.rotate)%180===90,e=d?b.naturalHeight:b.naturalWidth,f=d?b.naturalWidth:b.naturalHeight,g=e/f,h=a.width,i=a.height;a.height*g>a.width?3===c?h=a.height*g:i=a.width/g:3===c?i=a.width/g:h=a.height*g;var j={aspectRatio:g,naturalWidth:e,naturalHeight:f,width:h,height:i};j.left=(a.width-h)/2,j.top=(a.height-i)/2,j.oldLeft=j.left,j.oldTop=j.top,this.canvasData=j,this.limited=1===c||2===c,this.limitCanvas(!0,!0),this.initialImageData=_a({},b),this.initialCanvasData=_a({},j)},limitCanvas:function(a,b){var c=this.options,d=this.containerData,e=this.canvasData,f=this.cropBoxData,g=c.viewMode,h=e.aspectRatio,i=this.cropped&&f;if(a){var j=Number(c.minCanvasWidth)||0,k=Number(c.minCanvasHeight)||0;g>1?(j=Math.max(j,d.width),k=Math.max(k,d.height),3===g&&(k*h>j?j=k*h:k=j/h)):g>0&&(j?j=Math.max(j,i?f.width:0):k?k=Math.max(k,i?f.height:0):i&&(j=f.width,k=f.height,k*h>j?j=k*h:k=j/h));var l=Q({aspectRatio:h,width:j,height:k});j=l.width,k=l.height,e.minWidth=j,e.minHeight=k,e.maxWidth=1/0,e.maxHeight=1/0}if(b)if(g>(i?0:1)){var m=d.width-e.width,n=d.height-e.height;e.minLeft=Math.min(0,m),e.minTop=Math.min(0,n),e.maxLeft=Math.max(0,m),e.maxTop=Math.max(0,n),i&&this.limited&&(e.minLeft=Math.min(f.left,f.left+(f.width-e.width)),e.minTop=Math.min(f.top,f.top+(f.height-e.height)),e.maxLeft=f.left,e.maxTop=f.top,2===g&&(e.width>=d.width&&(e.minLeft=Math.min(0,m),e.maxLeft=Math.max(0,m)),e.height>=d.height&&(e.minTop=Math.min(0,n),e.maxTop=Math.max(0,n))))}else e.minLeft=-e.width,e.minTop=-e.height,e.maxLeft=d.width,e.maxTop=d.height},renderCanvas:function(a,b){var c=this.canvasData,d=this.imageData;if(b){var e=R({width:d.naturalWidth*Math.abs(d.scaleX||1),height:d.naturalHeight*Math.abs(d.scaleY||1),degree:d.rotate||0}),f=e.width,g=e.height,h=c.width*(f/c.naturalWidth),i=c.height*(g/c.naturalHeight);c.left-=(h-c.width)/2,c.top-=(i-c.height)/2,c.width=h,c.height=i,c.aspectRatio=f/g,c.naturalWidth=f,c.naturalHeight=g,this.limitCanvas(!0,!1)}(c.width>c.maxWidth||c.width<c.minWidth)&&(c.left=c.oldLeft),(c.height>c.maxHeight||c.height<c.minHeight)&&(c.top=c.oldTop),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),this.limitCanvas(!1,!0),c.left=Math.min(Math.max(c.left,c.minLeft),c.maxLeft),c.top=Math.min(Math.max(c.top,c.minTop),c.maxTop),c.oldLeft=c.left,c.oldTop=c.top,x(this.canvas,_a({width:c.width,height:c.height},M({translateX:c.left,translateY:c.top}))),this.renderImage(a),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(a){var b=this.canvasData,c=this.imageData,d=c.naturalWidth*(b.width/b.naturalWidth),e=c.naturalHeight*(b.height/b.naturalHeight);_a(c,{width:d,height:e,left:(b.width-d)/2,top:(b.height-e)/2}),x(this.image,_a({width:c.width,height:c.height},M(_a({translateX:c.left,translateY:c.top},c)))),a&&this.output()},initCropBox:function(){var a=this.options,b=this.canvasData,c=a.aspectRatio||a.initialAspectRatio,d=Number(a.autoCropArea)||.8,e={width:b.width,height:b.height};c&&(b.height*c>b.width?e.height=e.width/c:e.width=e.height*c),this.cropBoxData=e,this.limitCropBox(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.width=Math.max(e.minWidth,e.width*d),e.height=Math.max(e.minHeight,e.height*d),e.left=b.left+(b.width-e.width)/2,e.top=b.top+(b.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCropBoxData=_a({},e)},limitCropBox:function(a,b){var c=this.options,d=this.containerData,e=this.canvasData,f=this.cropBoxData,g=this.limited,h=c.aspectRatio;if(a){var i=Number(c.minCropBoxWidth)||0,j=Number(c.minCropBoxHeight)||0,k=g?Math.min(d.width,e.width,e.width+e.left,d.width-e.left):d.width,l=g?Math.min(d.height,e.height,e.height+e.top,d.height-e.top):d.height;i=Math.min(i,d.width),j=Math.min(j,d.height),h&&(i&&j?j*h>i?j=i/h:i=j*h:i?j=i/h:j&&(i=j*h),l*h>k?l=k/h:k=l*h),f.minWidth=Math.min(i,k),f.minHeight=Math.min(j,l),f.maxWidth=k,f.maxHeight=l}b&&(g?(f.minLeft=Math.max(0,e.left),f.minTop=Math.max(0,e.top),f.maxLeft=Math.min(d.width,e.left+e.width)-f.width,f.maxTop=Math.min(d.height,e.top+e.height)-f.height):(f.minLeft=0,f.minTop=0,f.maxLeft=d.width-f.width,f.maxTop=d.height-f.height))},renderCropBox:function(){var a=this.options,b=this.containerData,c=this.cropBoxData;(c.width>c.maxWidth||c.width<c.minWidth)&&(c.left=c.oldLeft),(c.height>c.maxHeight||c.height<c.minHeight)&&(c.top=c.oldTop),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),this.limitCropBox(!1,!0),c.left=Math.min(Math.max(c.left,c.minLeft),c.maxLeft),c.top=Math.min(Math.max(c.top,c.minTop),c.maxTop),c.oldLeft=c.left,c.oldTop=c.top,a.movable&&a.cropBoxMovable&&E(this.face,ua,c.width>=b.width&&c.height>=b.height?da:ba),x(this.cropBox,_a({width:c.width,height:c.height},M({translateX:c.left,translateY:c.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),I(this.element,za,this.getData())}},kb={initPreview:function(){var a=this.element,b=this.crossOrigin,d=this.options.preview,e=b?this.crossOriginUrl:this.url,f=a.alt||"The image to preview",g=c.createElement("img");if(b&&(g.crossOrigin=b),g.src=e,g.alt=f,this.viewBox.appendChild(g),this.viewBoxImage=g,d){var h=d;"string"==typeof d?h=a.ownerDocument.querySelectorAll(d):d.querySelector&&(h=[d]),this.previews=h,v(h,function(a){var d=c.createElement("img");E(a,va,{width:a.offsetWidth,height:a.offsetHeight,html:a.innerHTML}),b&&(d.crossOrigin=b),d.src=e,d.alt=f,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',a.innerHTML="",a.appendChild(d)})}},resetPreview:function(){v(this.previews,function(a){var b=D(a,va);x(a,{width:b.width,height:b.height}),a.innerHTML=b.html,F(a,va)})},preview:function(){var a=this.imageData,b=this.canvasData,c=this.cropBoxData,d=c.width,e=c.height,f=a.width,g=a.height,h=c.left-b.left-a.left,i=c.top-b.top-a.top;this.cropped&&!this.disabled&&(x(this.viewBoxImage,_a({width:f,height:g},M(_a({translateX:-h,translateY:-i},a)))),v(this.previews,function(b){var c=D(b,va),j=c.width,k=c.height,l=j,m=k,n=1;d&&(n=j/d,m=e*n),e&&m>k&&(n=k/e,l=d*n,m=k),x(b,{width:l,height:m}),x(b.getElementsByTagName("img")[0],_a({width:f*n,height:g*n},M(_a({translateX:-h*n,translateY:-i*n},a))))}))}},lb={bind:function(){var a=this.element,c=this.options,d=this.cropper;t(c.cropstart)&&H(a,Ca,c.cropstart),t(c.cropmove)&&H(a,Ba,c.cropmove),t(c.cropend)&&H(a,Aa,c.cropend),t(c.crop)&&H(a,za,c.crop),t(c.zoom)&&H(a,Na,c.zoom),H(d,Ha,this.onCropStart=this.cropStart.bind(this)),c.zoomable&&c.zoomOnWheel&&H(d,Ma,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),c.toggleDragModeOnDblclick&&H(d,Da,this.onDblclick=this.dblclick.bind(this)),H(a.ownerDocument,Ia,this.onCropMove=this.cropMove.bind(this)),H(a.ownerDocument,Ja,this.onCropEnd=this.cropEnd.bind(this)),c.responsive&&H(b,La,this.onResize=this.resize.bind(this))},unbind:function(){var a=this.element,c=this.options,d=this.cropper;t(c.cropstart)&&G(a,Ca,c.cropstart),t(c.cropmove)&&G(a,Ba,c.cropmove),t(c.cropend)&&G(a,Aa,c.cropend),t(c.crop)&&G(a,za,c.crop),t(c.zoom)&&G(a,Na,c.zoom),G(d,Ha,this.onCropStart),c.zoomable&&c.zoomOnWheel&&G(d,Ma,this.onWheel,{passive:!1,capture:!0}),c.toggleDragModeOnDblclick&&G(d,Da,this.onDblclick),G(a.ownerDocument,Ia,this.onCropMove),G(a.ownerDocument,Ja,this.onCropEnd),c.responsive&&G(b,La,this.onResize)}},mb={resize:function(){var a=this.options,b=this.container,c=this.containerData,d=Number(a.minContainerWidth)||Ta,e=Number(a.minContainerHeight)||Ua;if(!(this.disabled||c.width<=d||c.height<=e)){var f=b.offsetWidth/c.width;if(1!==f||b.offsetHeight!==c.height){var g,h;a.restore&&(g=this.getCanvasData(),h=this.getCropBoxData()),this.render(),a.restore&&(this.setCanvasData(v(g,function(a,b){g[b]=a*f})),this.setCropBoxData(v(h,function(a,b){h[b]=a*f})))}}},dblclick:function(){this.disabled||this.options.dragMode===ya||this.setDragMode(y(this.dragBox,na)?xa:wa)},wheel:function(a){var b=this,c=Number(this.options.wheelZoomRatio)||.1,d=1;this.disabled||(a.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){b.wheeling=!1},50),a.deltaY?d=a.deltaY>0?1:-1:a.wheelDelta?d=-a.wheelDelta/120:a.detail&&(d=a.detail>0?1:-1),this.zoom(-d*c,a)))},cropStart:function(a){var b=a.buttons,c=a.button;if(!(this.disabled||("mousedown"===a.type||"pointerdown"===a.type&&"mouse"===a.pointerType)&&(p(b)&&1!==b||p(c)&&0!==c||a.ctrlKey))){var d,e=this.options,f=this.pointers;a.changedTouches?v(a.changedTouches,function(a){f[a.identifier]=O(a)}):f[a.pointerId||0]=O(a),d=Object.keys(f).length>1&&e.zoomable&&e.zoomOnTouch?ea:D(a.target,ua),Pa.test(d)&&I(this.element,Ca,{originalEvent:a,action:d})!==!1&&(a.preventDefault(),this.action=d,this.cropping=!1,d===ca&&(this.cropping=!0,z(this.dragBox,sa)))}},cropMove:function(a){var b=this.action;if(!this.disabled&&b){var c=this.pointers;a.preventDefault(),I(this.element,Ba,{originalEvent:a,action:b})!==!1&&(a.changedTouches?v(a.changedTouches,function(a){_a(c[a.identifier]||{},O(a,!0))}):_a(c[a.pointerId||0]||{},O(a,!0)),this.change(a))}},cropEnd:function(a){if(!this.disabled){var b=this.action,c=this.pointers;a.changedTouches?v(a.changedTouches,function(a){delete c[a.identifier]}):delete c[a.pointerId||0],b&&(a.preventDefault(),Object.keys(c).length||(this.action=""),this.cropping&&(this.cropping=!1,B(this.dragBox,sa,this.cropped&&this.options.modal)),I(this.element,Aa,{originalEvent:a,action:b}))}}},nb={change:function(a){var b,c=this.options,d=this.canvasData,e=this.containerData,f=this.cropBoxData,g=this.pointers,h=this.action,i=c.aspectRatio,j=f.left,k=f.top,l=f.width,m=f.height,n=j+l,o=k+m,p=0,q=0,r=e.width,s=e.height,t=!0;!i&&a.shiftKey&&(i=l&&m?l/m:1),this.limited&&(p=f.minLeft,q=f.minTop,r=p+Math.min(e.width,d.width,d.left+d.width),s=q+Math.min(e.height,d.height,d.top+d.height));var u=g[Object.keys(g)[0]],w={x:u.endX-u.startX,y:u.endY-u.startY},x=function(a){switch(a){case fa:n+w.x>r&&(w.x=r-n);break;case ga:j+w.x<p&&(w.x=p-j);break;case ia:k+w.y<q&&(w.y=q-k);break;case ha:o+w.y>s&&(w.y=s-o)}};switch(h){case ba:j+=w.x,k+=w.y;break;case fa:if(w.x>=0&&(n>=r||i&&(k<=q||o>=s))){t=!1;break}x(fa),l+=w.x,l<0&&(h=ga,l=-l,j-=l),i&&(m=l/i,k+=(f.height-m)/2);break;case ia:if(w.y<=0&&(k<=q||i&&(j<=p||n>=r))){t=!1;break}x(ia),m-=w.y,k+=w.y,m<0&&(h=ha,m=-m,k-=m),i&&(l=m*i,j+=(f.width-l)/2);break;case ga:if(w.x<=0&&(j<=p||i&&(k<=q||o>=s))){t=!1;break}x(ga),l-=w.x,j+=w.x,l<0&&(h=fa,l=-l,j-=l),i&&(m=l/i,k+=(f.height-m)/2);break;case ha:if(w.y>=0&&(o>=s||i&&(j<=p||n>=r))){t=!1;break}x(ha),m+=w.y,m<0&&(h=ia,m=-m,k-=m),i&&(l=m*i,j+=(f.width-l)/2);break;case ja:if(i){if(w.y<=0&&(k<=q||n>=r)){t=!1;break}x(ia),m-=w.y,k+=w.y,l=m*i}else x(ia),x(fa),w.x>=0?n<r?l+=w.x:w.y<=0&&k<=q&&(t=!1):l+=w.x,w.y<=0?k>q&&(m-=w.y,k+=w.y):(m-=w.y,k+=w.y);l<0&&m<0?(h=ma,m=-m,l=-l,k-=m,j-=l):l<0?(h=ka,l=-l,j-=l):m<0&&(h=la,m=-m,k-=m);break;case ka:if(i){if(w.y<=0&&(k<=q||j<=p)){t=!1;break}x(ia),m-=w.y,k+=w.y,l=m*i,j+=f.width-l}else x(ia),x(ga),w.x<=0?j>p?(l-=w.x,j+=w.x):w.y<=0&&k<=q&&(t=!1):(l-=w.x,j+=w.x),w.y<=0?k>q&&(m-=w.y,k+=w.y):(m-=w.y,k+=w.y);l<0&&m<0?(h=la,m=-m,l=-l,k-=m,j-=l):l<0?(h=ja,l=-l,j-=l):m<0&&(h=ma,m=-m,k-=m);break;case ma:if(i){if(w.x<=0&&(j<=p||o>=s)){t=!1;break}x(ga),l-=w.x,j+=w.x,m=l/i}else x(ha),x(ga),w.x<=0?j>p?(l-=w.x,j+=w.x):w.y>=0&&o>=s&&(t=!1):(l-=w.x,j+=w.x),w.y>=0?o<s&&(m+=w.y):m+=w.y;l<0&&m<0?(h=ja,m=-m,l=-l,k-=m,j-=l):l<0?(h=la,l=-l,j-=l):m<0&&(h=ka,m=-m,k-=m);break;case la:if(i){if(w.x>=0&&(n>=r||o>=s)){t=!1;break}x(fa),l+=w.x,m=l/i}else x(ha),x(fa),w.x>=0?n<r?l+=w.x:w.y>=0&&o>=s&&(t=!1):l+=w.x,w.y>=0?o<s&&(m+=w.y):m+=w.y;l<0&&m<0?(h=ka,m=-m,l=-l,k-=m,j-=l):l<0?(h=ma,l=-l,j-=l):m<0&&(h=ja,m=-m,k-=m);break;case da:this.move(w.x,w.y),t=!1;break;case ea:this.zoom(N(g),a),t=!1;break;case ca:if(!w.x||!w.y){t=!1;break}b=J(this.cropper),j=u.startX-b.left,k=u.startY-b.top,l=f.minWidth,m=f.minHeight,w.x>0?h=w.y>0?la:ja:w.x<0&&(j-=l,h=w.y>0?ma:ka),w.y<0&&(k-=m),this.cropped||(A(this.cropBox,pa),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}t&&(f.width=l,f.height=m,f.left=j,f.top=k,this.action=h,this.renderCropBox()),v(g,function(a){a.startX=a.endX,a.startY=a.endY})}},ob={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&z(this.dragBox,sa),A(this.cropBox,pa),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=_a({},this.initialImageData),this.canvasData=_a({},this.initialCanvasData),this.cropBoxData=_a({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(_a(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),A(this.dragBox,sa),z(this.cropBox,pa)),this},replace:function(a){var b=arguments.length>1&&arguments[1]!==d&&arguments[1];return!this.disabled&&a&&(this.isImg&&(this.element.src=a),b?(this.url=a,this.image.src=a,this.ready&&(this.viewBoxImage.src=a,v(this.previews,function(b){b.getElementsByTagName("img")[0].src=a}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(a))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,A(this.cropper,oa)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,z(this.cropper,oa)),this},destroy:function(){var a=this.element;return a[aa]?(a[aa]=d,this.isImg&&this.replaced&&(a.src=this.originalUrl),this.uncreate(),this):this},move:function(a){var b=arguments.length>1&&arguments[1]!==d?arguments[1]:a,c=this.canvasData,e=c.left,f=c.top;return this.moveTo(q(a)?a:e+Number(a),q(b)?b:f+Number(b))},moveTo:function(a){var b=arguments.length>1&&arguments[1]!==d?arguments[1]:a,c=this.canvasData,e=!1;return a=Number(a),b=Number(b),this.ready&&!this.disabled&&this.options.movable&&(p(a)&&(c.left=a,e=!0),p(b)&&(c.top=b,e=!0),e&&this.renderCanvas(!0)),this},zoom:function(a,b){var c=this.canvasData;return a=Number(a),a=a<0?1/(1-a):1+a,this.zoomTo(c.width*a/c.naturalWidth,null,b)},zoomTo:function(a,b,c){var d=this.options,e=this.canvasData,f=e.width,g=e.height,h=e.naturalWidth,i=e.naturalHeight;if(a=Number(a),a>=0&&this.ready&&!this.disabled&&d.zoomable){var j=h*a,k=i*a;if(I(this.element,Na,{ratio:a,oldRatio:f/h,originalEvent:c})===!1)return this;if(c){var l=this.pointers,m=J(this.cropper),n=l&&Object.keys(l).length?P(l):{pageX:c.pageX,pageY:c.pageY};e.left-=(j-f)*((n.pageX-m.left-e.left)/f),e.top-=(k-g)*((n.pageY-m.top-e.top)/g)}else s(b)&&p(b.x)&&p(b.y)?(e.left-=(j-f)*((b.x-e.left)/f),e.top-=(k-g)*((b.y-e.top)/g)):(e.left-=(j-f)/2,e.top-=(k-g)/2);e.width=j,e.height=k,this.renderCanvas(!0)}return this},rotate:function(a){return this.rotateTo((this.imageData.rotate||0)+Number(a))},rotateTo:function(a){return a=Number(a),p(a)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=a%360,this.renderCanvas(!0,!0)),this},scaleX:function(a){var b=this.imageData.scaleY;return this.scale(a,p(b)?b:1)},scaleY:function(a){var b=this.imageData.scaleX;return this.scale(p(b)?b:1,a)},scale:function(a){var b=arguments.length>1&&arguments[1]!==d?arguments[1]:a,c=this.imageData,e=!1;return a=Number(a),b=Number(b),this.ready&&!this.disabled&&this.options.scalable&&(p(a)&&(c.scaleX=a,e=!0),p(b)&&(c.scaleY=b,e=!0),e&&this.renderCanvas(!0,!0)),this},getData:function(){var a,b=arguments.length>0&&arguments[0]!==d&&arguments[0],c=this.options,e=this.imageData,f=this.canvasData,g=this.cropBoxData;if(this.ready&&this.cropped){a={x:g.left-f.left,y:g.top-f.top,width:g.width,height:g.height};var h=e.width/e.naturalWidth;if(v(a,function(b,c){a[c]=b/h}),b){var i=Math.round(a.y+a.height),j=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=j-a.x,a.height=i-a.y}}else a={x:0,y:0,width:0,height:0};return c.rotatable&&(a.rotate=e.rotate||0),c.scalable&&(a.scaleX=e.scaleX||1,a.scaleY=e.scaleY||1),a},setData:function(a){var b=this.options,c=this.imageData,d=this.canvasData,e={};if(this.ready&&!this.disabled&&s(a)){var f=!1;b.rotatable&&p(a.rotate)&&a.rotate!==c.rotate&&(c.rotate=a.rotate,f=!0),b.scalable&&(p(a.scaleX)&&a.scaleX!==c.scaleX&&(c.scaleX=a.scaleX,f=!0),p(a.scaleY)&&a.scaleY!==c.scaleY&&(c.scaleY=a.scaleY,f=!0)),f&&this.renderCanvas(!0,!0);var g=c.width/c.naturalWidth;p(a.x)&&(e.left=a.x*g+d.left),p(a.y)&&(e.top=a.y*g+d.top),p(a.width)&&(e.width=a.width*g),p(a.height)&&(e.height=a.height*g),this.setCropBoxData(e)}return this},getContainerData:function(){return this.ready?_a({},this.containerData):{}},getImageData:function(){return this.sized?_a({},this.imageData):{}},getCanvasData:function(){var a=this.canvasData,b={};return this.ready&&v(["left","top","width","height","naturalWidth","naturalHeight"],function(c){b[c]=a[c]}),b},setCanvasData:function(a){var b=this.canvasData,c=b.aspectRatio;return this.ready&&!this.disabled&&s(a)&&(p(a.left)&&(b.left=a.left),p(a.top)&&(b.top=a.top),p(a.width)?(b.width=a.width,b.height=a.width/c):p(a.height)&&(b.height=a.height,b.width=a.height*c),this.renderCanvas(!0)),this},getCropBoxData:function(){var a,b=this.cropBoxData;return this.ready&&this.cropped&&(a={left:b.left,top:b.top,width:b.width,height:b.height}),a||{}},setCropBoxData:function(a){var b,c,d=this.cropBoxData,e=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&s(a)&&(p(a.left)&&(d.left=a.left),p(a.top)&&(d.top=a.top),p(a.width)&&a.width!==d.width&&(b=!0,d.width=a.width),p(a.height)&&a.height!==d.height&&(c=!0,d.height=a.height),e&&(b?d.height=d.width/e:c&&(d.width=d.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var a=arguments.length>0&&arguments[0]!==d?arguments[0]:{};if(!this.ready||!b.HTMLCanvasElement)return null;var e=this.canvasData,f=S(this.image,this.imageData,e,a);if(!this.cropped)return f;var g=this.getData(),h=g.x,i=g.y,j=g.width,k=g.height,m=f.width/Math.floor(e.naturalWidth);1!==m&&(h*=m,i*=m,j*=m,k*=m);var n=j/k,o=Q({aspectRatio:n,width:a.maxWidth||1/0,height:a.maxHeight||1/0}),p=Q({aspectRatio:n,width:a.minWidth||0,height:a.minHeight||0},"cover"),q=Q({aspectRatio:n,width:a.width||(1!==m?f.width:j),height:a.height||(1!==m?f.height:k)}),r=q.width,s=q.height;r=Math.min(o.width,Math.max(p.width,r)),s=Math.min(o.height,Math.max(p.height,s));var t=c.createElement("canvas"),u=t.getContext("2d");t.width=w(r),t.height=w(s),u.fillStyle=a.fillColor||"transparent",u.fillRect(0,0,r,s);var v=a.imageSmoothingEnabled,x=void 0===v||v,y=a.imageSmoothingQuality;u.imageSmoothingEnabled=x,y&&(u.imageSmoothingQuality=y);var z,A,B,C,D,E,F=f.width,G=f.height,H=h,I=i;H<=-j||H>F?(H=0,z=0,B=0,D=0):H<=0?(B=-H,H=0,z=Math.min(F,j+H),D=z):H<=F&&(B=0,z=Math.min(j,F-H),D=z),z<=0||I<=-k||I>G?(I=0,A=0,C=0,E=0):I<=0?(C=-I,I=0,A=Math.min(G,k+I),E=A):I<=G&&(C=0,A=Math.min(k,G-I),E=A);var J=[H,I,z,A];if(D>0&&E>0){var K=r/j;J.push(B*K,C*K,D*K,E*K)}return u.drawImage.apply(u,[f].concat(l(J.map(function(a){return Math.floor(w(a))})))),t},setAspectRatio:function(a){var b=this.options;return this.disabled||q(a)||(b.aspectRatio=Math.max(0,a)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(a){var b=this.options,c=this.dragBox,d=this.face;if(this.ready&&!this.disabled){var e=a===wa,f=b.movable&&a===xa;
a=e||f?a:ya,b.dragMode=a,E(c,ua,a),B(c,na,e),B(c,ta,f),b.cropBoxMovable||(E(d,ua,a),B(d,na,e),B(d,ta,f))}return this}},pb=Z.Cropper,qb=function(){function a(b){var c=arguments.length>1&&arguments[1]!==d?arguments[1]:{};if(f(this,a),!b||!Sa.test(b.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=b,this.options=_a({},Va,s(c)&&c),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return h(a,[{key:"init",value:function(){var a,c=this.element,d=c.tagName.toLowerCase();if(!c[aa]){if(c[aa]=this,"img"===d){if(this.isImg=!0,a=c.getAttribute("src")||"",this.originalUrl=a,!a)return;a=c.src}else"canvas"===d&&b.HTMLCanvasElement&&(a=c.toDataURL());this.load(a)}}},{key:"load",value:function(a){var c=this;if(a){this.url=a,this.imageData={};var d=this.element,e=this.options;if(e.rotatable||e.scalable||(e.checkOrientation=!1),!e.checkOrientation||!b.ArrayBuffer)return void this.clone();if(Qa.test(a))return void(Ra.test(a)?this.read(U(a)):this.clone());var f=new XMLHttpRequest,g=this.clone.bind(this);this.reloading=!0,this.xhr=f,f.onabort=g,f.onerror=g,f.ontimeout=g,f.onprogress=function(){f.getResponseHeader("content-type")!==Oa&&f.abort()},f.onload=function(){c.read(f.response)},f.onloadend=function(){c.reloading=!1,c.xhr=null},e.checkCrossOrigin&&K(a)&&d.crossOrigin&&(a=L(a)),f.open("GET",a),f.responseType="arraybuffer",f.withCredentials="use-credentials"===d.crossOrigin,f.send()}}},{key:"read",value:function(a){var b=this.options,c=this.imageData,d=W(a),e=0,f=1,g=1;if(d>1){this.url=V(a,Oa);var h=X(d);e=h.rotate,f=h.scaleX,g=h.scaleY}b.rotatable&&(c.rotate=e),b.scalable&&(c.scaleX=f,c.scaleY=g),this.clone()}},{key:"clone",value:function(){var a=this.element,b=this.url,d=a.crossOrigin,e=b;this.options.checkCrossOrigin&&K(b)&&(d||(d="anonymous"),e=L(b)),this.crossOrigin=d,this.crossOriginUrl=e;var f=c.createElement("img");d&&(f.crossOrigin=d),f.src=e||b,f.alt=a.alt||"The image to crop",this.image=f,f.onload=this.start.bind(this),f.onerror=this.stop.bind(this),z(f,qa),a.parentNode.insertBefore(f,a.nextSibling)}},{key:"start",value:function(){var a=this,b=this.image;b.onload=null,b.onerror=null,this.sizing=!0;var d=Z.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Z.navigator.userAgent),e=function(b,c){_a(a.imageData,{naturalWidth:b,naturalHeight:c,aspectRatio:b/c}),a.sizing=!1,a.sized=!0,a.build()};if(b.naturalWidth&&!d)return void e(b.naturalWidth,b.naturalHeight);var f=c.createElement("img"),g=c.body||c.documentElement;this.sizingImage=f,f.onload=function(){e(f.width,f.height),d||g.removeChild(f)},f.src=b.src,d||(f.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",g.appendChild(f))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var a=this.element,b=this.options,d=this.image,e=a.parentNode,f=c.createElement("div");f.innerHTML=Wa;var g=f.querySelector(".".concat(aa,"-container")),h=g.querySelector(".".concat(aa,"-canvas")),i=g.querySelector(".".concat(aa,"-drag-box")),j=g.querySelector(".".concat(aa,"-crop-box")),k=j.querySelector(".".concat(aa,"-face"));this.container=e,this.cropper=g,this.canvas=h,this.dragBox=i,this.cropBox=j,this.viewBox=g.querySelector(".".concat(aa,"-view-box")),this.face=k,h.appendChild(d),z(a,pa),e.insertBefore(g,a.nextSibling),this.isImg||A(d,qa),this.initPreview(),this.bind(),b.initialAspectRatio=Math.max(0,b.initialAspectRatio)||NaN,b.aspectRatio=Math.max(0,b.aspectRatio)||NaN,b.viewMode=Math.max(0,Math.min(3,Math.round(b.viewMode)))||0,z(j,pa),b.guides||z(j.getElementsByClassName("".concat(aa,"-dashed")),pa),b.center||z(j.getElementsByClassName("".concat(aa,"-center")),pa),b.background&&z(g,"".concat(aa,"-bg")),b.highlight||z(k,ra),b.cropBoxMovable&&(z(k,ta),E(k,ua,ba)),b.cropBoxResizable||(z(j.getElementsByClassName("".concat(aa,"-line")),pa),z(j.getElementsByClassName("".concat(aa,"-point")),pa)),this.render(),this.ready=!0,this.setDragMode(b.dragMode),b.autoCrop&&this.crop(),this.setData(b.data),t(b.ready)&&H(a,Ka,b.ready,{once:!0}),I(a,Ka)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),A(this.element,pa))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return b.Cropper=pb,a}},{key:"setDefaults",value:function(a){_a(Va,s(a)&&a)}}]),a}();if(_a(qb.prototype,jb,kb,lb,mb,nb,ob),a.fn){var rb=a.fn.cropper,sb="cropper";a.fn.cropper=function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g;return this.each(function(c,f){var h=a(f),i="destroy"===b,j=h.data(sb);if(!j){if(i)return;var k=a.extend({},h.data(),a.isPlainObject(b)&&b);j=new qb(f,k),h.data(sb,j)}if("string"==typeof b){var l=j[b];a.isFunction(l)&&(g=l.apply(j,e),g===j&&(g=d),i&&h.removeData(sb))}}),g!==d?g:this},a.fn.cropper.Constructor=qb,a.fn.cropper.setDefaults=qb.setDefaults,a.fn.cropper.noConflict=function(){return a.fn.cropper=rb,this}}}(jQuery,window,document)});
define(["jquery","jqueryui"],function(a){function b(b,c,d,e){var f={id:b,contextid:c,courseid:d,role:a('select[name="filterform_role"]').val(),group:a('select[name="filterform_group"]').val(),name:""+a('input[name="filterform_name"]').val(),realized:a('input[name="filterform_realized"]:checked').val(),activity:a('select[name="filterform_activity"]').val(),neverconnected:1==a('input[name="filterform_neverconnected"]:checked').length,sgaia:JSON.stringify(a('input[name^="sgaia"]:checked').serializeArray()),sgaiaother:1==a('input[name="sother"]:checked').length};a("#generate_certificate").load("popup.php",f,function(){a("#generate_certificate").dialog({modal:!0,resizable:!1,draggable:!1,width:"700px",dialogClass:"popup_frontal generate_certificate",closeOnEscape:!0}),a("#duration_h").focus(),a("#enddate_datepicker").datepicker({monthNames:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","Ao&ucirc;t","Septembre","Octobre","Novembre","DÃ©cembre"],monthNamesShort:["janv.","f&eacute;vr.","mars","avril","mai","juin","juil.","ao&ucirc;t","sept.","oct.","nov.","d&eacute;c."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],dateFormat:"dd/mm/yy",weekHeader:"Sem.",firstDay:1,currentText:"Aujourd'hui",closeText:"Fermer",prevText:"Pr&eacute;c&eacute;dent",nextText:"Suivant",isRTL:!1,showMonthAfterYear:!1,buttonImage:e,buttonImageOnly:!0,showOn:"button"})})}return{init:function(c,d,e,f){a("#generate_certificate").on("click","#bt_cancel",function(){a("#generate_certificate").dialog("close"),a("#enddate_datepicker").datepicker("destroy")}),a("#generate_certificate_btn").click(function(){return b(c,d,e,f),!1}),a("#generate_certificate").on("dialogclose",function(){a("#generate_certificate_conf").hide(),a("#generate_certificate_content").show()})}}});